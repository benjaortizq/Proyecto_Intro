#                   PROYECTO DE BOMBERMAN 
#                  BENJAMIN ORTIZ 2025064599
#                  STEADMAN MURILLO 2025097768
#           IC-1802 INTRODUCCION A LA PROGRAMACION 
#                     I SEMESTRE DE 2025


import pygame as pg
import random 
import sys 
import os 

#Aqui epiezan las clases del juego
# Clase Jugador
class Jugador : 
    def __init__(self, frame, pos_x, pos_y , velocidad, skin): #clase padre de jugador  (atributos de frame, y psocicion de X, Y y frame)
        self.frame = frame
        self.x= pos_x
        self.y= pos_y
        self.velocidad = velocidad #asigna la velocidad del jugador
        self.skin = skin
    def mover(self): #metodo para mover al jugador, recibe el frame actual y la velocidad: 
        #metodo para mover al jugador, recibe el frame actual
        largo= self.frame.get_width() #ancho del frame
        alto= self.frame.get_height()
        #verifica que el jugador no se salga del frame
        keys = pg.key.get_pressed()
        if keys[pg.K_LEFT] and self.x > 0:
            self.x -= self.velocidad
        if keys[pg.K_RIGHT] and self.x + self.skin.get_width() < largo:
            self.x += self.velocidad
        if keys[pg.K_UP] and self.y > 0:
            self.y -= self.velocidad
        if keys[pg.K_DOWN] and self.y + self.skin.get_height() < alto:
            self.y += self.velocidad
        #actualiza la posicion del jugador en el frame  
        self.frame.blit(self.skin, (self.x, self.y))
class Jugador_1(Jugador): #clase hija de jugador, que hereda de la clase padre
    def __init__(self, frame, pos_x, pos_y, skin,habilidad):
        super().__init__(frame, pos_x, pos_y,5,skin)
        self.habilidad=habilidad
    def ejecutar_habilidad(self ) :
        keys = pg.key.get_pressed()
        if keys[pg.K_SPACE]:  # Si se presiona la tecla de espacio
            print(f"Ejecutando habilidad: {self.habilidad}")  




        

#TODO : LITERALMENTE ABSOLUTAMENTE TODO.


#-----------------------pygame------------------------------

#commons de pygame (literalmente el inicio de pygame)
pg.init()
screen= pg.display.set_mode((800, 600)) #tamano de pantalla
pg.display.set_caption("El hombre que tiraba bombas") #Nombre de la ventana
reloj = pg.time.Clock() #reloj comun para controlar FPS

#-----------------------GLOBALES------------------------------
estado= "start" #se inicializa el estado del juego como "start", que representa el menu de inicio
#-----------------------SPRITES------------------------------

#placeholders 
placeholder_skin= pg.image.load("assets/sprites/perro.png").convert_alpha() #placeholder para el skin del jugador
game_surface = pg.Surface((800,450)) #superficie del juego, que es el fondo de la pantalla
#-----------------------JUGADORES------------------------------
#instancia del jugador 1    
Player_1 = Jugador_1(game_surface, 100, 100, placeholder_skin, "me gusta el pito") #crea una instancia del jugador 1 con el frame, posicion y skin

#estados de juego :
def pantalla_inicio() : #ESTRO ES UN PLACEHOLDER PARA LA PANTALLA DE INICIO
    screen.fill("white")
    game_surface.fill("black")  # Llama al método mover del jugador 1 para dibujarlo en la pantalla
    Player_1.mover()
    Player_1.ejecutar_habilidad() 
    screen.blit(game_surface,(0,150))  # Dibuja la superficie del juego en la pantalla


while True:
    #cambiador de estado
    if estado == "start":    #SI EL ESTADO ES MENU, MUESTRA LA PANTALLA DE INICIO
        pantalla_inicio()  # Llama a la función para mostrar la pantalla de inicio

    for event in pg.event.get():
        if event.type == pg.QUIT:
            pg.quit()
            sys.exit()  
    pg.display.flip()
    reloj.tick(45)